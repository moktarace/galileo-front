(this["webpackJsonpgalileo-front"]=this["webpackJsonpgalileo-front"]||[]).push([[0],{37:function(e,t,n){e.exports=n(80)},46:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n(10),r=n(14),a=n(2),l=(n(42),n(43),n(44),n(45),n(46),n(29)),c=n(17),o=n(18);class m extends s.Component{render(){return this.props.id?s.createElement(r.b,{to:"/skill/".concat(this.props.id)},s.createElement(c.Card,{className:"p-mr-2 p-mb-2",header:s.createElement("img",{alt:"Card",src:this.props.image}),title:this.props.name})):s.createElement(c.Card,{className:"p-mr-2 p-mb-2"},s.createElement("p",null,s.createElement(o.Skeleton,{shape:"rectangle"})),s.createElement("p",null,s.createElement(o.Skeleton,{shape:"rectangle"})))}}var p=m;const d=[{breakpoint:"1024px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}];class u extends s.Component{render(){return s.createElement("div",{className:"card"},s.createElement("h5",null,this.props.name),s.createElement(l.Carousel,{responsiveOptions:d,numVisible:3,numScroll:1,circular:!0,value:this.props.skills,itemTemplate:e=>s.createElement(p,{id:e.id,name:e.name,description:e.description,exercices:e.exercices,image:e.image,premium:e.premium})}))}}var h=u;class v extends s.Component{render(){return s.createElement("div",{className:"p-mr-2 p-p-3 p-mb-2"},s.createElement("h1",null,this.props.name),s.createElement("h2",null,this.props.description),s.createElement("div",{className:""},this.props.subjects.map(e=>s.createElement(h,{key:e.id,id:e.id,name:e.name,description:e.description,skills:e.skills}))))}}var E=v;const b="https://cours-galilee.com/wp-json/wp/v2/";var g=class{saveResult(e){localStorage.setItem(e.id,JSON.stringify(e))}getLevels(){return new Promise((e,t)=>{fetch(b+"niveau").then(e=>e.json()).then(t=>{var n=[];t.map(e=>n.push({id:e.id,name:e.nom,description:e.content.rendered,subjects:[]})),e(n)})})}getExercices(){return new Promise((e,t)=>{fetch(b+"exercice").then(e=>e.json()).then(t=>{var n=[];t.map(e=>n.push({id:e.id,name:e.nom,description:e.content.rendered,question:e.enonce,answer:e.correction,tip:"demerde-toi"})),e(n)})})}getSubject(){return new Promise((e,t)=>{fetch(b+"comptence?per_page=100&orderby=title&order=asc").then(e=>e.json()).then(t=>{var n=new Map;t.map(e=>{var t;n.has(e.chapitre[0].ID)||n.set(e.chapitre[0].ID,{id:e.chapitre[0].ID,name:e.chapitre[0].post_title,description:"",skills:[]});let s={id:e.id,name:e.nom,description:e.content.rendered,premium:!1,difficulty:e.difficulte,video:e.video,image:e.thumbnail.guid,order:e.ordering,exercices:[]};return null===(t=n.get(e.chapitre[0].id))||void 0===t||t.skills.push(s),s}),e(Array.from(n.values()))})})}getSkill(e){return new Promise((t,n)=>{fetch(b+"comptence/"+e).then(e=>e.json()).then(e=>{let n=[];(e.exercices||[]).map(e=>n.push({id:e.id,name:e.post_title,description:"",question:e.enonce,answer:e.correction,tip:"demerde-toi"})),t({id:e.id,name:e.nom,description:e.content.rendered,premium:!1,difficulty:e.difficulte,video:e.video,order:e.ordering,image:e.thumbnail.guid,exercices:n})})})}};class k extends s.Component{constructor(e){super(e),this.state={subjects:[]}}componentDidMount(){(new g).getSubject().then(e=>this.setState({subjects:e}))}render(){return s.createElement("div",{className:"card"},s.createElement("h2",null,"POC"),s.createElement(E,{id:"0",description:"",name:"Premi\xe8re",subjects:this.state.subjects}))}}var f=k,x=n(31),w=n(32),C=n(9),S=(n(67),n(33));class N extends s.Component{constructor(e){super(e),this.state={visible:!1,done:!1,time:0,success:!1}}getContent(){return this.state.done?this.props.answer:this.props.question}finish(){(new g).saveResult({id:Date.now().toString(),success:!0,date:Date.now(),exercice:this.props,time:Date.now()-this.state.time}),this.setState({done:!0,success:!0})}start(){this.setState({visible:!this.state.visible,time:Date.now()})}close(){this.setState({done:!1,visible:!this.state.visible})}getFooter(){return this.state.done?s.createElement("div",null,s.createElement(C.Button,{label:"C'est compris",icon:"pi pi-check",onClick:()=>this.close(),autoFocus:!0})):s.createElement("div",null,s.createElement(C.Button,{label:"Reponse A",onClick:()=>this.finish(),className:"p-button-text"}),s.createElement(C.Button,{label:"Reponse B",onClick:()=>this.finish(),className:"p-button-text"}),s.createElement(C.Button,{label:"Reponse C",onClick:()=>this.finish(),className:"p-button-text"}),s.createElement(C.Button,{label:"Reponse D",onClick:()=>this.finish(),className:"p-button-text"}))}render(){return s.createElement("div",{className:"card"},s.createElement(C.Button,{label:this.props.name,icon:"pi pi-external-link",onClick:()=>this.start()}),s.createElement(w.Dialog,{header:this.props.name,visible:this.state.visible,style:{width:"50vw"},footer:this.getFooter(),onHide:()=>this.close()},s.createElement(S.a,null,this.getContent())))}}var j=N,D=n(34);class I extends s.Component{constructor(e){super(e),this.state={skill:{id:"",name:"",description:"",exercices:[]}}}getId(){return window.location.href.split("/").pop()||"8329"}componentDidMount(){(new g).getSkill(this.getId()).then(e=>{this.setState({skill:e})})}getVideoId(e){return e?e.split("/").pop():""}render(){var e;return s.createElement("div",{className:"card"},s.createElement("h2",null,null===(e=this.state.skill)||void 0===e?void 0:e.name),s.createElement(x.Panel,{header:"Cours"},s.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.skill.description}}),s.createElement(D.a,{videoId:this.getVideoId(this.state.skill.video)})),this.state.skill.exercices.map((e,t)=>s.createElement(j,{id:e.id,answer:e.answer,question:e.question,name:e.name,description:e.description,tip:e.tip})))}}var y=I;class B extends s.Component{render(){return s.createElement(r.a,null,s.createElement("div",{className:"p-component"},s.createElement("div",{className:"p-mr-2"},s.createElement(a.c,null,s.createElement(a.a,{path:"/skill/:id"},s.createElement(y,null)),s.createElement(a.a,{path:"/"},s.createElement(f,null))))))}}const P=document.getElementById("root");Object(i.render)(s.createElement(B,null),P)}},[[37,1,2]]]);
//# sourceMappingURL=main.0acfaf04.chunk.js.map